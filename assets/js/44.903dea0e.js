(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{358:function(e,s,t){"use strict";t.r(s);var n=t(43),a=Object(n.a)({},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h4",{attrs:{id:"increase-the-timeout-of-asp-net-core-2-0-api-hosted-in-azure-app-service"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#increase-the-timeout-of-asp-net-core-2-0-api-hosted-in-azure-app-service","aria-hidden":"true"}},[e._v("#")]),e._v(" Increase the timeout of ASP.NET Core 2.0 API hosted in Azure App Service")]),e._v(" "),t("p",[e._v("There are reasons that you "),t("strong",[e._v("might")]),e._v(" have a request that takes 2-3 minutes to complete and this post is for you. For most, you should probably look at decoupling these long running request.")]),e._v(" "),t("p",[e._v("If you're using ASP.NET Core 2.0 API and deploying to an Azure App Service, then you might run into an issue where it takes a process request longer than 2 minutes to complete. You'll typically get a "),t("code",[e._v("502 Bad Gateway")]),e._v(" with the following info:")]),e._v(" "),t("p",[t("code",[e._v('"The specified CGI application encountered an error and the server terminated the process".')])]),e._v(" "),t("p",[e._v("If you check your diagnostic logfile you might see:")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("018-06-15 03:47:03.232 +00:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request\nSystem.Threading.Tasks.TaskCanceledException: A task was canceled.\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[e._v("You can fix this by going into your web.config in your sites/wwwroot folder and adding a "),t("code",[e._v('requestTimeout="00:20:00')]),e._v(" to the file as shown below.")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('<?xml version="1.0" encoding="utf-8"?>\n<configuration>\n  <system.webServer>\n    <handlers>\n      <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModule" resourceType="Unspecified" />\n    </handlers>\n    <aspNetCore processPath="dotnet" arguments=".\\WebApplication1.dll" stdoutLogEnabled="false" stdoutLogFile=".\\logs\\stdout" requestTimeout="00:20:00" />\n  </system.webServer>\n</configuration>\n\x3c!--ProjectGuid: 3b93921c-f843-46c8-914e-xxx--\x3e\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br")])])])},[],!1,null,null,null);s.default=a.exports}}]);